<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weekly Calendar</title>
</head>
<body onload="main()">
<h1>Weekly Calendar</h1>
<p>Manage your calendar by adding, editing, and removing events here!</p>
<p>Content Test 1: <span id="test1"></span></p>
<p>Content Test 2: <span id="test2"></span></p>
<p>Content Test 3: <span id="test3"></span></p>
</body>
<script>
class Calendar {

    constructor(UserID, CalendarID, EventsList) {
         /**
          * The Calendar Constructor - Empty calendar will be created for the user.
          * @param UserID - type: int - Key to link the calendar to the user
          * @param CalendarID - type: int - Unique key to identify the calendar
          * @param EventsList - type: list - An initially empty list representing the user's weekly calendar
          *
          */
        this.UserID = UserID;
        this.CalendarID = CalendarID;
        this.EventsList = EventsList;

    }
}

class Event {

    constructor(EventID, EventName, Day, StartTime, EndTime, HourlyWage) {
    /**
     * The Event Constructor - Creates an event and adds it to the User's calendar.
     * @param EventID - type: int - Key to link the event to the calendar
     * @param EventName - type: string - User-given name for their event
     * @param Day - type: int - Integer representing the day of the week (0=Sunday, 6=Saturday)
     * @param StartTime - type: float - Float representation of the event's start time (ex: 9:00am=9.0, 9:30pm=21.5)
     * @param EndTime - type: float - Float representation of the event's end time (ex: 9:00am=9.0, 9:30pm=21.5)
     * @param HourlyWage - type: float - User's hourly pay for this event (cannot be less than 0)
     *
     */
    this.EventID = EventID;
    this.EventName = EventName;
    this.Day = Day;
    this.StartTime = StartTime;
    this.EndTime = EndTime;
    this.HourlyWage = HourlyWage;
    }
    // Class Setter Functions
    setEventID(EventID) {this.EventID = EventID;}
    setEventName(EventName) {this.EventName = EventName;}
    setDay(Day) {this.Day = Day;}
    setStartTime(StartTime) {this.StartTime = StartTime;}
    setEndTime(EndTime) {this.EndTime = EndTime;}
    setHourlyWage(HourlyWage) {this.HourlyWage = HourlyWage;}

    // Class Getter Functions
    getEventID() {return this.EventID;}
    getEventName() {return this.EventName;}
    getDay() {return this.Day;}
    getStartTime() {
        let minutes = this.StartTime;
        let min = "";
        while(minutes > 1) {
            minutes -= 1;
        }
        switch(minutes){
            case 0.25:
                min = ":15";
                break;
            case 0.5:
                min = ":30";
                break;
            case 0.75:
                min = ":45";
                break;
            default:
                min = ":00";
                break;
        }
        if(this.StartTime - 12 > 0.76) {
            let time = Math.floor(this.StartTime - 12);
            time = time.toString() + min + "pm";
            return time
        }
        else if (this.StartTime - 12 >= 0) {
            let time = Math.floor(this.StartTime);
            time = time.toString() + min + "pm";
            return time
        }
        else {
            let time = Math.floor(this.StartTime);
            return time.toString() + min + "am";
        }
    }
    getEndTime() {
        let minutes = this.EndTime;
        let min = "";
        while(minutes > 1) {
            minutes -= 1;
        }
        switch(minutes){
            case 0.25:
                min = ":15";
                break;
            case 0.5:
                min = ":30";
                break;
            case 0.75:
                min = ":45";
                break;
            default:
                min = ":00";
                break;
        }
        if(this.EndTime - 12 > 0.76) {
            let time = Math.floor(this.EndTime - 12);
            time = time.toString() + min + "pm";
            return time
        }
        else if (this.EndTime - 12 >= 0) {
            let time = Math.floor(this.EndTime);
            time = time.toString() + min + "pm";
            return time
        }
        else {
            let time = Math.floor(this.EndTime);
            return time.toString() + min + "am";
        }
    }
    getHourlyWage() {return this.HourlyWage;}

    calculateNumHours() {
        return this.EndTime - this.StartTime;
    }

    calculateEventIncome() {
        return this.calculateNumHours() * this.HourlyWage;
    }

    printEvent() {
        let s = "";
        s += this.EventName + ", ";
        switch(this.Day) {
            case 0:
                s += "Sunday, ";
                break;
            case 1:
                s += "Monday, ";
                break;
            case 2:
                s += "Tuesday, ";
                break;
            case 3:
                s += "Wednesday, ";
                break;
            case 4:
                s += "Thursday, ";
                break;
            case 5:
                s += "Friday, ";
                break;
            case 6:
                s += "Saturday, ";
                break;
        }
        s += "Start: " + this.getStartTime() + ", ";
        s += "End: " + this.getEndTime() + ", ";
        s += "Hourly Wage: $" + this.HourlyWage.toFixed(2).toString() + "/hr, ";
        s += "Event Length: " + this.calculateNumHours().toString() + " hours, ";
        s += "Event Income: $" + this.calculateEventIncome().toFixed(2).toString();
        return s;
    }
}

function main() {
    let Event1 = new Event(1, "Event 1", 0, 9.0, 12.0, 10.0);
    let s = Event1.printEvent();
    document.getElementById("test1").innerHTML = s;
    let Event2 = new Event(2, "Work", 1, 12.5, 17, 11.0);
    let s2 = Event2.printEvent();
    document.getElementById("test2").innerHTML = s2;
    let d = Event2.getStartTime();
    document.getElementById("test3").innerHTML = d;
}
</script>
</html>
